<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google Play YayÄ±n AsistanÄ±</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=DM+Sans:wght@400;500;600;700&family=Instrument+Serif&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0a0f;--bg2:#12121a;--bg3:#1a1a28;--bg4:#222236;
--text:#e8e6f0;--text2:#a8a6b8;--text3:#6b6980;
--accent:#6c5ce7;--accent2:#a29bfe;--accent3:#3d34a5;
--green:#00b894;--green2:#55efc4;--greenbg:rgba(0,184,148,.12);
--red:#d63031;--redbg:rgba(214,48,49,.12);
--yellow:#fdcb6e;--yellowbg:rgba(253,203,110,.12);
--blue:#74b9ff;--bluebg:rgba(116,185,255,.12);
--border:#2d2d44;--radius:12px;
--font:'DM Sans',sans-serif;--mono:'JetBrains Mono',monospace;--serif:'Instrument Serif',serif;
}
html{font-size:15px;scroll-behavior:smooth}
body{font-family:var(--font);background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh}
::selection{background:var(--accent);color:#fff}
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg2)}
::-webkit-scrollbar-thumb{background:var(--bg4);border-radius:3px}

.container{max-width:1200px;margin:0 auto;padding:0 24px}

/* ============ LANDING ============ */
#landing{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 24px;position:relative;overflow:hidden}
#landing::before{content:'';position:absolute;top:-200px;left:50%;transform:translateX(-50%);width:800px;height:800px;background:radial-gradient(circle,rgba(108,92,231,.15) 0%,transparent 60%);pointer-events:none}
.landing-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:var(--bg3);border:1px solid var(--border);border-radius:100px;font-size:.8rem;color:var(--accent2);margin-bottom:32px;letter-spacing:.5px}
.landing-badge span{width:8px;height:8px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
.landing-title{font-family:var(--serif);font-size:clamp(2.4rem,6vw,4.2rem);font-weight:400;line-height:1.15;margin-bottom:16px;color:#fff}
.landing-title em{font-style:italic;color:var(--accent2)}
.landing-sub{font-size:1.05rem;color:var(--text2);max-width:600px;margin:0 auto 48px}
.landing-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;width:100%;max-width:900px;margin-bottom:48px}
.lcard{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);padding:28px 24px;text-align:left;transition:border-color .3s}
.lcard:hover{border-color:var(--accent)}
.lcard-num{font-family:var(--mono);font-size:.75rem;color:var(--accent);margin-bottom:12px;letter-spacing:2px}
.lcard h3{font-size:1.1rem;font-weight:600;margin-bottom:8px;color:#fff}
.lcard p{font-size:.88rem;color:var(--text2);line-height:1.5}
.btn{display:inline-flex;align-items:center;gap:10px;padding:14px 32px;border-radius:var(--radius);font-family:var(--font);font-size:.95rem;font-weight:600;cursor:pointer;border:none;transition:all .25s}
.btn-primary{background:var(--accent);color:#fff}
.btn-primary:hover{background:var(--accent2);color:var(--bg);transform:translateY(-2px);box-shadow:0 8px 30px rgba(108,92,231,.3)}
.btn-secondary{background:var(--bg3);color:var(--text);border:1px solid var(--border)}
.btn-secondary:hover{border-color:var(--accent);color:var(--accent2)}
.btn-sm{padding:8px 16px;font-size:.82rem;border-radius:8px}
.btn-green{background:var(--green);color:#000}
.btn-green:hover{background:var(--green2);transform:translateY(-2px)}
.landing-actions{display:flex;gap:16px;flex-wrap:wrap;justify-content:center}

/* ============ PROMPT MODAL ============ */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(8px);z-index:1000;display:none;align-items:center;justify-content:center;padding:24px}
.modal-overlay.active{display:flex}
.modal{background:var(--bg2);border:1px solid var(--border);border-radius:16px;width:100%;max-width:800px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden}
.modal-head{padding:24px 28px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border)}
.modal-head h2{font-size:1.2rem;font-weight:600}
.modal-close{width:36px;height:36px;border-radius:8px;background:var(--bg3);border:1px solid var(--border);color:var(--text2);cursor:pointer;font-size:1.1rem;display:flex;align-items:center;justify-content:center;transition:all .2s}
.modal-close:hover{background:var(--red);color:#fff;border-color:var(--red)}
.modal-body{padding:20px 28px;overflow-y:auto;flex:1}
.modal-foot{padding:16px 28px;border-top:1px solid var(--border);display:flex;gap:12px;justify-content:flex-end}

/* ============ JSON INPUT ============ */
#jsonSection{display:none;min-height:100vh;padding:60px 24px}
.json-wrap{max-width:720px;margin:0 auto}
.json-wrap h2{font-family:var(--serif);font-size:2rem;margin-bottom:8px;color:#fff}
.json-wrap p{color:var(--text2);margin-bottom:24px}
.json-textarea{width:100%;min-height:300px;background:var(--bg2);border:2px solid var(--border);border-radius:var(--radius);padding:20px;font-family:var(--mono);font-size:.85rem;color:var(--green2);resize:vertical;outline:none;transition:border-color .3s}
.json-textarea:focus{border-color:var(--accent)}
.json-textarea.error{border-color:var(--red)}
.json-error{color:var(--red);font-size:.85rem;margin-top:8px;min-height:20px}
.json-actions{margin-top:20px;display:flex;gap:12px}

/* ============ WIZARD ============ */
#wizard{display:none;min-height:100vh}
.wizard-layout{display:grid;grid-template-columns:300px 1fr;min-height:100vh}
@media(max-width:900px){.wizard-layout{grid-template-columns:1fr}.wizard-sidebar{display:none}}

/* SIDEBAR */
.wizard-sidebar{background:var(--bg2);border-right:1px solid var(--border);padding:24px 0;position:sticky;top:0;height:100vh;overflow-y:auto}
.sidebar-header{padding:0 20px 20px;border-bottom:1px solid var(--border);margin-bottom:16px}
.sidebar-appname{font-weight:700;font-size:1rem;color:#fff}
.sidebar-scenario{font-family:var(--mono);font-size:.75rem;color:var(--accent2);margin-top:4px}
.sidebar-progress{margin-top:12px;height:4px;background:var(--bg4);border-radius:2px;overflow:hidden}
.sidebar-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--green));border-radius:2px;transition:width .5s}
.sidebar-steps{list-style:none}
.sidebar-step{display:flex;align-items:center;gap:12px;padding:10px 20px;cursor:pointer;transition:background .2s;font-size:.88rem;color:var(--text2)}
.sidebar-step:hover{background:var(--bg3)}
.sidebar-step.active{background:var(--bg3);color:var(--accent2);border-right:3px solid var(--accent)}
.sidebar-step.done{color:var(--green)}
.sidebar-step.skipped{color:var(--text3);text-decoration:line-through;font-size:.82rem}
.step-icon{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.7rem;flex-shrink:0;font-weight:700;border:2px solid var(--border);color:var(--text3)}
.sidebar-step.done .step-icon{background:var(--green);border-color:var(--green);color:#000}
.sidebar-step.active .step-icon{background:var(--accent);border-color:var(--accent);color:#fff}

/* MAIN CONTENT */
.wizard-main{padding:40px 48px 80px;max-width:840px}
@media(max-width:900px){.wizard-main{padding:24px 16px 80px}}
.step-badge{font-family:var(--mono);font-size:.75rem;color:var(--accent);letter-spacing:2px;margin-bottom:8px}
.step-title{font-family:var(--serif);font-size:1.8rem;color:#fff;margin-bottom:6px}
.step-menu-path{font-size:.85rem;color:var(--text2);margin-bottom:24px;padding:12px 16px;background:var(--bg2);border:1px solid var(--border);border-radius:8px;display:flex;flex-direction:column;gap:4px}
.step-menu-path .tr{color:var(--yellow)}
.step-menu-path .en{color:var(--text3)}

/* TASKS */
.task-list{display:flex;flex-direction:column;gap:12px;margin-bottom:32px}
.task{display:flex;gap:14px;padding:16px;background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;transition:all .25s;align-items:flex-start}
.task:hover{border-color:var(--accent3)}
.task.done{border-color:var(--green);background:var(--greenbg)}
.task-check{width:22px;height:22px;border-radius:6px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:2px;transition:all .2s;color:transparent;font-size:.75rem}
.task.done .task-check{background:var(--green);border-color:var(--green);color:#000}
.task-content{flex:1}
.task-label{font-weight:500;font-size:.92rem;color:var(--text);margin-bottom:4px}
.task-detail{font-size:.82rem;color:var(--text2);line-height:1.5}
.task-value{font-family:var(--mono);background:var(--bg4);padding:2px 8px;border-radius:4px;font-size:.8rem;color:var(--accent2);cursor:pointer;display:inline-flex;align-items:center;gap:6px;margin-top:6px;transition:background .2s}
.task-value:hover{background:var(--accent3)}
.task-value::after{content:'ğŸ“‹';font-size:.7rem}

/* INFO BOXES */
.info-box{padding:14px 18px;border-radius:var(--radius);margin-bottom:16px;font-size:.88rem;line-height:1.5}
.info-box.warn{background:var(--yellowbg);border:1px solid rgba(253,203,110,.3);color:var(--yellow)}
.info-box.tip{background:var(--bluebg);border:1px solid rgba(116,185,255,.3);color:var(--blue)}
.info-box.danger{background:var(--redbg);border:1px solid rgba(214,48,49,.3);color:var(--red)}
.info-box.success{background:var(--greenbg);border:1px solid rgba(0,184,148,.3);color:var(--green2)}

/* TABLE */
.data-table{width:100%;border-collapse:collapse;margin-bottom:20px;font-size:.85rem}
.data-table th{text-align:left;padding:10px 14px;background:var(--bg3);color:var(--accent2);font-weight:600;border-bottom:2px solid var(--border)}
.data-table td{padding:10px 14px;border-bottom:1px solid var(--border);color:var(--text2)}
.data-table tr:hover td{background:var(--bg2)}

/* NAV BUTTONS */
.step-nav{display:flex;gap:16px;margin-top:32px;padding-top:24px;border-top:1px solid var(--border)}

/* CODE BLOCK */
.code-block{background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:16px;font-family:var(--mono);font-size:.82rem;color:var(--green2);overflow-x:auto;margin:12px 0;position:relative;white-space:pre-wrap;word-break:break-all}
.code-block .copy-btn{position:absolute;top:8px;right:8px;padding:4px 10px;font-size:.72rem;background:var(--bg4);color:var(--text2);border:1px solid var(--border);border-radius:6px;cursor:pointer;font-family:var(--mono)}
.code-block .copy-btn:hover{background:var(--accent);color:#fff}

/* TOAST */
.toast{position:fixed;bottom:24px;right:24px;padding:12px 20px;background:var(--green);color:#000;border-radius:8px;font-weight:600;font-size:.88rem;transform:translateY(100px);opacity:0;transition:all .3s;z-index:2000}
.toast.show{transform:translateY(0);opacity:1}

/* MOBILE NAV */
.mobile-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:var(--bg2);border-top:1px solid var(--border);padding:12px 24px;z-index:100}
@media(max-width:900px){.mobile-nav{display:flex;justify-content:space-between;align-items:center}}
.mobile-progress-text{font-family:var(--mono);font-size:.8rem;color:var(--accent2)}
</style>
</head>
<body>

<!-- ===== LANDING ===== -->
<div id="landing">
  <div class="landing-badge"><span></span> 2026 GÃ¼ncel â€” Åubat</div>
  <h1 class="landing-title">Google Play<br><em>YayÄ±n AsistanÄ±</em></h1>
  <p class="landing-sub">AI ile uygulamanÄ± analiz et, kiÅŸiselleÅŸtirilmiÅŸ yayÄ±n rehberini oluÅŸtur.<br>Her adÄ±mda neyi tÄ±klayacaÄŸÄ±nÄ±, nereye ne yazacaÄŸÄ±nÄ± bil.</p>
  <div class="landing-cards">
    <div class="lcard">
      <div class="lcard-num">01</div>
      <h3>AI'dan JSON Al</h3>
      <p>Prompt'u kopyala, herhangi bir AI'ya yapÄ±ÅŸtÄ±r, uygulama dosyalarÄ±nÄ± ekle. AI sana JSON verir.</p>
    </div>
    <div class="lcard">
      <div class="lcard-num">02</div>
      <h3>JSON'Ä± YapÄ±ÅŸtÄ±r</h3>
      <p>AI'Ä±n verdiÄŸi JSON'Ä± buraya yapÄ±ÅŸtÄ±r. Site uygulamanÄ± tanÄ±r ve kiÅŸisel rehberini oluÅŸturur.</p>
    </div>
    <div class="lcard">
      <div class="lcard-num">03</div>
      <h3>AdÄ±m AdÄ±m YayÄ±nla</h3>
      <p>Her ekranda ne tÄ±klanacak, ne yazÄ±lacak, ne iÅŸaretlenecek â€” hepsi burada. "YaptÄ±m" de, ilerle.</p>
    </div>
  </div>
  <div class="landing-actions">
    <button class="btn btn-primary" onclick="showPromptModal()">ğŸ“‹ AI Prompt'u Kopyala</button>
    <button class="btn btn-secondary" onclick="showJsonInput()">â¬‡ï¸ JSON YapÄ±ÅŸtÄ±r</button>
  </div>
</div>

<!-- ===== PROMPT MODAL ===== -->
<div class="modal-overlay" id="promptModal">
  <div class="modal">
    <div class="modal-head">
      <h2>ğŸ“‹ AI'ya Verilecek Prompt</h2>
      <button class="modal-close" onclick="closePromptModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="info-box tip">Bu prompt'u kopyala â†’ herhangi bir AI'ya (Claude, ChatGPT, Gemini vb.) yapÄ±ÅŸtÄ±r â†’ uygulama dosyalarÄ±nÄ± (build.gradle, AndroidManifest.xml, kaynak kodlar) ekle â†’ AI sana JSON verecek.</div>
      <div class="code-block" id="promptText" style="max-height:500px;overflow-y:auto;font-size:.78rem;line-height:1.6">SEN BÄ°R ANDROÄ°D PROJE ANALÄ°Z BOTUSUN.

GÃ–REV: KullanÄ±cÄ±nÄ±n eklediÄŸi Android proje dosyalarÄ±nÄ± analiz et ve SADECE aÅŸaÄŸÄ±daki JSON formatÄ±nda Ã§Ä±ktÄ± ver. BAÅKA HÄ°Ã‡BÄ°R ÅEY YAZMA. AÃ§Ä±klama yazma. Yorum yazma. Sadece JSON ver.

KURALLAR:
1. KullanÄ±cÄ± dosya eklemezse veya bilgi eksikse, o alanÄ± "KULLANICI_DOLDURACAK" yaz.
2. Manifest'te AdMob App ID varsa hasAds=true, yoksa false.
3. build.gradle'da billing library varsa hasSubscription veya hasLifetime=true.
4. Login/Auth kodu varsa hasLogin=true.
5. Senaryo otomatik belirle:
   - A: hasAds=false, hasSubscription=false, hasLifetime=false
   - B: hasAds=true, hasSubscription=false, hasLifetime=false
   - C: hasAds=true, hasSubscription=true, hasLifetime=false
   - D: hasAds=true, hasSubscription=false, hasLifetime=true
   - E: hasAds=true, hasSubscription=true, hasLifetime=true
   - F: hasAds=false, isPaid=true
   - G: accountType="organization"
6. JSON DIÅINDA TEK BÄ°R KARAKTER BÄ°LE YAZMA. Markdown code block bile kullanma. DÃ¼z JSON ver.

JSON FORMATI (AYNEN BU YAPIYI KULLAN):

{
  "appName": "Uygulama AdÄ± (manifest veya kullanÄ±cÄ±dan)",
  "packageName": "com.example.app (manifest'ten)",
  "scenario": "A|B|C|D|E|F|G",
  "accountType": "personal|organization",
  "language": "tr-TR",
  "isPaid": false,
  "hasAds": false,
  "hasSubscription": false,
  "hasLifetime": false,
  "hasLogin": false,
  "hasFirebase": false,
  "hasLocation": false,
  "hasCamera": false,
  "hasUserContent": false,
  "admob": {
    "appId": "ca-app-pub-XXXX~YYYY veya boÅŸ string",
    "units": [
      {"type": "banner|interstitial|rewarded|native|app_open", "id": "ca-app-pub-XXXX/YYYY", "name": "AÃ§Ä±klama"}
    ]
  },
  "products": [
    {"id": "com.app.premium.monthly", "type": "subscription|one-time", "name": "GÃ¶rÃ¼nen Ad", "price": "â‚º99,99", "period": "1 month|3 months|6 months|1 year|lifetime"}
  ],
  "storeInfo": {
    "title": "MaÄŸaza adÄ± (max 30 karakter)",
    "shortDesc": "KÄ±sa aÃ§Ä±klama (max 80 karakter)",
    "fullDesc": "Tam aÃ§Ä±klama (max 4000 karakter, AI Ã¶nerisi)",
    "category": "Entertainment|Tools|Education|Health|Finance|diÄŸer",
    "email": "iletiÅŸim e-postasÄ±",
    "phone": "telefon veya boÅŸ",
    "website": "https://site.com veya boÅŸ",
    "privacyUrl": "https://site.com/privacy"
  },
  "contentRating": {
    "violence": false,
    "sexual": false,
    "language": false,
    "substances": false,
    "gambling": false,
    "userInteraction": false,
    "onlineContent": false,
    "locationSharing": false,
    "iap": false,
    "adId": false
  },
  "targetAge": "18+",
  "dataSafety": {
    "collectsData": true,
    "encryptedInTransit": true,
    "deletionMechanism": true,
    "dataTypes": ["device_ids","app_interactions","crash_logs","diagnostics","name","email","user_ids","purchase_history","approximate_location","photos_videos"]
  }
}

AÃ‡IKLAMALAR (okuyup anla, sonra sadece JSON ver):

admob.units dizisi: Manifest veya kodda bulduÄŸun her reklam birimini ekle. BulamadÄ±ysan boÅŸ dizi [].
products dizisi: build.gradle'da billing varsa ve kodda product ID bulursan ekle. BulamadÄ±ysan KULLANICI_DOLDURACAK yaz ve type'Ä± tahmin et.
contentRating: Kodda ÅŸiddet/cinsel iÃ§erik/kÃ¼fÃ¼r yoksa hepsini false yap. Online baÄŸlantÄ± varsa onlineContent=true. IAP varsa iap=true. AdMob varsa adId=true.
dataSafety.dataTypes dizisindeki geÃ§erli deÄŸerler:
  - device_ids (AdMob veya analytics varsa)
  - app_interactions (Firebase veya analytics varsa)
  - crash_logs (Firebase Crashlytics varsa)
  - diagnostics (Firebase Performance varsa)
  - name (login + isim alanÄ± varsa)
  - email (login + email alanÄ± varsa)
  - user_ids (login/auth varsa)
  - purchase_history (IAP/subscription varsa)
  - approximate_location (konum izni varsa)
  - precise_location (hassas konum izni varsa)
  - photos_videos (kamera/galeri eriÅŸimi varsa)
  - files_docs (dosya eriÅŸimi varsa)
  - contacts (rehber eriÅŸimi varsa)
  - phone_number (telefon izni varsa)

SADECE JSON VER. HÄ°Ã‡BÄ°R AÃ‡IKLAMA YAZMA.</div>
    </div>
    <div class="modal-foot">
      <button class="btn btn-primary btn-sm" onclick="copyPrompt()">ğŸ“‹ Prompt'u Kopyala</button>
      <button class="btn btn-secondary btn-sm" onclick="closePromptModal();showJsonInput()">JSON YapÄ±ÅŸtÄ±rmaya GeÃ§ â†’</button>
    </div>
  </div>
</div>

<!-- ===== JSON INPUT ===== -->
<div id="jsonSection">
  <div class="json-wrap">
    <h2>JSON YapÄ±ÅŸtÄ±r</h2>
    <p>AI'dan aldÄ±ÄŸÄ±n JSON Ã§Ä±ktÄ±sÄ±nÄ± aÅŸaÄŸÄ±ya yapÄ±ÅŸtÄ±r:</p>
    <textarea class="json-textarea" id="jsonInput" placeholder='{ "appName": "...", "scenario": "B", ... }'></textarea>
    <div class="json-error" id="jsonError"></div>
    <div class="json-actions">
      <button class="btn btn-green" onclick="parseJson()">ğŸš€ Rehberi OluÅŸtur</button>
      <button class="btn btn-secondary btn-sm" onclick="loadSample()">ğŸ“ Ã–rnek JSON YÃ¼kle</button>
      <button class="btn btn-secondary btn-sm" onclick="showLanding()">â† Geri</button>
    </div>
  </div>
</div>

<!-- ===== WIZARD ===== -->
<div id="wizard">
  <div class="wizard-layout">
    <aside class="wizard-sidebar" id="sidebar"></aside>
    <main class="wizard-main" id="wizardContent"></main>
  </div>
  <div class="mobile-nav">
    <button class="btn btn-sm btn-secondary" onclick="prevStep()">â† Ã–nceki</button>
    <span class="mobile-progress-text" id="mobileProgress">1/20</span>
    <button class="btn btn-sm btn-green" onclick="nextStep()">Sonraki â†’</button>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
// ============================================================
// STATE
// ============================================================
let appData = null;
let steps = [];
let currentStepIndex = 0;
let completedTasks = {};

// ============================================================
// NAVIGATION
// ============================================================
function showLanding(){
  document.getElementById('landing').style.display='flex';
  document.getElementById('jsonSection').style.display='none';
  document.getElementById('wizard').style.display='none';
}
function showJsonInput(){
  document.getElementById('landing').style.display='none';
  document.getElementById('jsonSection').style.display='block';
  document.getElementById('wizard').style.display='none';
  document.getElementById('jsonInput').focus();
}
function showWizard(){
  document.getElementById('landing').style.display='none';
  document.getElementById('jsonSection').style.display='none';
  document.getElementById('wizard').style.display='block';
}
function showPromptModal(){document.getElementById('promptModal').classList.add('active')}
function closePromptModal(){document.getElementById('promptModal').classList.remove('active')}
function copyPrompt(){
  navigator.clipboard.writeText(document.getElementById('promptText').innerText);
  toast('Prompt kopyalandÄ±!');
}
function toast(msg){
  const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2500);
}
function copyText(text){navigator.clipboard.writeText(text);toast('KopyalandÄ±: '+text.substring(0,40)+'...')}

// ============================================================
// SAMPLE JSON
// ============================================================
function loadSample(){
  document.getElementById('jsonInput').value=JSON.stringify({
    appName:"VR Sinema",packageName:"com.vrsinema.app",scenario:"E",accountType:"personal",language:"tr-TR",isPaid:false,
    hasAds:true,hasSubscription:true,hasLifetime:true,hasLogin:true,hasFirebase:true,hasLocation:false,hasCamera:false,hasUserContent:false,
    admob:{appId:"ca-app-pub-1234567890123456~9876543210",units:[
      {type:"banner",id:"ca-app-pub-1234567890123456/1111111111",name:"Ana Sayfa Banner"},
      {type:"interstitial",id:"ca-app-pub-1234567890123456/2222222222",name:"Sahne GeÃ§iÅŸ ReklamÄ±"},
      {type:"rewarded",id:"ca-app-pub-1234567890123456/3333333333",name:"Ã–dÃ¼llÃ¼ Ä°zle"}
    ]},
    products:[
      {id:"com.vrsinema.premium.monthly",type:"subscription",name:"AylÄ±k Premium",price:"â‚º99,99",period:"1 month"},
      {id:"com.vrsinema.premium.yearly",type:"subscription",name:"YÄ±llÄ±k Premium",price:"â‚º799,99",period:"1 year"},
      {id:"com.vrsinema.premium.lifetime",type:"one-time",name:"Ã–mÃ¼r Boyu Premium",price:"â‚º1.499,99",period:"lifetime"}
    ],
    storeInfo:{title:"VR Sinema",shortDesc:"Sanal gerÃ§eklik sinema deneyimi",fullDesc:"VR gÃ¶zlÃ¼ÄŸÃ¼nÃ¼zle sinema salonunda film izleme deneyimi yaÅŸayÄ±n.",category:"Entertainment",email:"info@vr-sinema.online",phone:"",website:"https://vr-sinema.online",privacyUrl:"https://vr-sinema.online/privacy"},
    contentRating:{violence:false,sexual:false,language:false,substances:false,gambling:false,userInteraction:false,onlineContent:true,locationSharing:false,iap:true,adId:true},
    targetAge:"18+",
    dataSafety:{collectsData:true,encryptedInTransit:true,deletionMechanism:true,dataTypes:["device_ids","app_interactions","crash_logs","diagnostics","name","email","user_ids","purchase_history"]}
  },null,2);
}

// ============================================================
// PARSE JSON & BUILD STEPS
// ============================================================
function parseJson(){
  const raw=document.getElementById('jsonInput').value.trim();
  const errEl=document.getElementById('jsonError');
  const ta=document.getElementById('jsonInput');
  try{
    appData=JSON.parse(raw);
    if(!appData.appName||!appData.scenario){throw new Error('appName ve scenario zorunlu');}
    errEl.textContent='';ta.classList.remove('error');
    buildSteps();
    loadProgress();
    renderSidebar();
    renderStep(0);
    showWizard();
  }catch(e){
    errEl.textContent='âŒ JSON HatasÄ±: '+e.message;
    ta.classList.add('error');
  }
}

function buildSteps(){
  steps=[];
  const s=appData.scenario;
  const isPersonal=appData.accountType!=='organization';
  const hasAds=appData.hasAds;
  const hasSub=appData.hasSubscription;
  const hasLT=appData.hasLifetime;
  const hasIAP=hasSub||hasLT;
  const hasLogin=appData.hasLogin;

  // Step 1: Account
  steps.push({id:'account',title:'Play Console HesabÄ±',icon:'ğŸ”‘',tasks:buildAccountTasks()});
  // Step 2: Verification
  steps.push({id:'verify',title:'Kimlik DoÄŸrulama',icon:'ğŸ›¡ï¸',tasks:buildVerifyTasks()});
  // Step 3: AdMob (conditional)
  if(hasAds) steps.push({id:'admob',title:'AdMob Kurulumu',icon:'ğŸ“¢',tasks:buildAdmobTasks()});
  // Step 4: Create App
  steps.push({id:'createapp',title:'Uygulama OluÅŸtur',icon:'ğŸ“±',tasks:buildCreateAppTasks()});
  // Step 5: Store Listing
  steps.push({id:'store',title:'MaÄŸaza GiriÅŸi',icon:'ğŸª',tasks:buildStoreTasks()});
  // Step 6: App Content - Privacy
  steps.push({id:'privacy',title:'Gizlilik PolitikasÄ±',icon:'ğŸ”’',tasks:buildPrivacyTasks()});
  // Step 7: App Content - Access
  steps.push({id:'access',title:'Uygulama EriÅŸimi',icon:'ğŸšª',tasks:buildAccessTasks()});
  // Step 8: App Content - Ads
  steps.push({id:'ads_decl',title:'Reklam BeyanÄ±',icon:'ğŸ“º',tasks:buildAdsDeclarationTasks()});
  // Step 9: Content Rating
  steps.push({id:'rating',title:'Ä°Ã§erik Derecelendirmesi',icon:'â­',tasks:buildRatingTasks()});
  // Step 10: Target Audience
  steps.push({id:'audience',title:'Hedef Kitle',icon:'ğŸ‘¥',tasks:buildAudienceTasks()});
  // Step 11: Data Safety
  steps.push({id:'datasafety',title:'Veri GÃ¼venliÄŸi',icon:'ğŸ”',tasks:buildDataSafetyTasks()});
  // Step 12: Other declarations
  steps.push({id:'other_decl',title:'DiÄŸer Beyanlar',icon:'ğŸ“‹',tasks:buildOtherDeclTasks()});
  // Step 13: AAB
  steps.push({id:'aab',title:'AAB HazÄ±rla',icon:'ğŸ”§',tasks:buildAabTasks()});
  // Step 14: Internal Test
  steps.push({id:'internal',title:'Dahili Test',icon:'ğŸ§ª',tasks:buildInternalTasks()});
  // Step 15: Monetization (conditional)
  if(hasIAP) steps.push({id:'monetize',title:'Ãœcretli ÃœrÃ¼nler',icon:'ğŸ’°',tasks:buildMonetizeTasks()});
  // Step 16: Closed Test (personal only)
  if(isPersonal) steps.push({id:'closed',title:'KapalÄ± Test',icon:'ğŸ”’',tasks:buildClosedTasks()});
  // Step 17: Production Access (personal only)
  if(isPersonal) steps.push({id:'prodaccess',title:'Ãœretim BaÅŸvurusu',icon:'âœ…',tasks:buildProdAccessTasks()});
  // Step 18: Production Release
  steps.push({id:'production',title:'Ãœretime YayÄ±nla',icon:'ğŸ¯',tasks:buildProductionTasks()});
  // Step 19: app-ads.txt (conditional)
  if(hasAds) steps.push({id:'appads',title:'app-ads.txt',icon:'ğŸ“¡',tasks:buildAppAdsTasks()});
  // Step 20: Post-launch
  steps.push({id:'postlaunch',title:'YayÄ±n SonrasÄ±',icon:'ğŸ“Š',tasks:buildPostLaunchTasks()});
}

// ============================================================
// TASK BUILDERS
// ============================================================
function T(label,detail,value){return {label,detail:detail||'',value:value||null,done:false}}

function buildAccountTasks(){return [
  T('play.google.com/console adresini aÃ§','TÃ¼rkÃ§e iÃ§in: play.google.com/console?hl=tr'),
  T('Google hesabÄ±nla giriÅŸ yap'),
  T('"BaÅŸlayÄ±n" / "Get Started" butonuna tÄ±kla'),
  T('Hesap tÃ¼rÃ¼nÃ¼ seÃ§: '+(appData.accountType==='organization'?'Kurumsal / Organization':'KiÅŸisel / Personal')),
  T('GeliÅŸtirici DaÄŸÄ±tÄ±m SÃ¶zleÅŸmesi\'ni kabul et','ğŸ‡¹ğŸ‡· GeliÅŸtirici DaÄŸÄ±tÄ±m SÃ¶zleÅŸmesi / ğŸ‡¬ğŸ‡§ Developer Distribution Agreement'),
  T('25 USD kayÄ±t Ã¼cretini Ã¶de','Ã–n Ã¶demeli kart kabul edilmez!'),
  T('Profil bilgilerini doldur','GeliÅŸtirici adÄ±, e-posta, telefon, web sitesi'),
  T('GÃ¶nder ve onay bekle','â³ Onay: 48 saate kadar'),
]}

function buildVerifyTasks(){
  if(appData.accountType==='organization') return [
    T('D-U-N-S numarasÄ±nÄ± gir','9 haneli Dun & Bradstreet numarasÄ±'),
    T('Kurum bilgilerini doÄŸrula','Yasal ad ve adres D-U-N-S ile eÅŸleÅŸmeli'),
    T('Ã–deme profili oluÅŸtur veya mevcut profili seÃ§'),
  ];
  return [
    T('Kimlik belgesi yÃ¼kle','NÃ¼fus cÃ¼zdanÄ± / pasaport / ehliyet'),
    T('Kart doÄŸrulama','Kimlikle aynÄ± isimde kredi/banka kartÄ±'),
    T('Cihaz doÄŸrulama','Play Store\'dan "Google Play Console" uygulamasÄ±nÄ± indir â†’ hesabÄ±nla giriÅŸ yap'),
    T('DoÄŸrulama tamamlanana kadar bekle'),
  ];
}

function buildAdmobTasks(){
  const units=appData.admob?.units||[];
  const tasks=[
    T('admob.google.com adresine git ve hesap oluÅŸtur/giriÅŸ yap'),
    T('Ã–deme bilgilerini ekle','Banka hesabÄ±, vergi bilgileri'),
    T('Uygulamalar â†’ Uygulama ekle','ğŸ‡¹ğŸ‡· Uygulamalar â†’ Uygulama ekle / ğŸ‡¬ğŸ‡§ Apps â†’ Add app'),
    T('Platform: Android, Durum: YayÄ±nlanmamÄ±ÅŸ seÃ§'),
    T('App ID\'yi not al',null,appData.admob?.appId),
  ];
  units.forEach(u=>{
    tasks.push(T('Reklam birimi oluÅŸtur: '+u.name,'TÃ¼r: '+u.type,u.id));
  });
  tasks.push(T('AndroidManifest.xml\'e App ID ekle',
    '<meta-data android:name="com.google.android.gms.ads.APPLICATION_ID" android:value="'+appData.admob?.appId+'"/>',
    appData.admob?.appId));
  tasks.push(T('build.gradle\'a AdMob + UMP SDK ekle',
    "implementation 'com.google.android.gms:play-services-ads:23.6.0'\nimplementation 'com.google.android.ump:user-messaging-platform:3.1.0'"));
  tasks.push(T('âš ï¸ GeliÅŸtirmede TEST ID kullan, gerÃ§ek reklama tÄ±klama!','Test Banner: ca-app-pub-3940256099942544/6300978111\nTest Interstitial: ca-app-pub-3940256099942544/1033173712\nTest Rewarded: ca-app-pub-3940256099942544/5224354917'));
  return tasks;
}

function buildCreateAppTasks(){return [
  T('ğŸ‡¹ğŸ‡· TÃ¼m uygulamalar â†’ Uygulama oluÅŸtur\nğŸ‡¬ğŸ‡§ All apps â†’ Create app'),
  T('Uygulama adÄ± gir (max 30 karakter)',null,appData.storeInfo?.title),
  T('VarsayÄ±lan dil seÃ§',null,appData.language||'tr-TR'),
  T('Uygulama mÄ± Oyun mu seÃ§','ğŸ‡¹ğŸ‡· Uygulama / Oyun â€” ğŸ‡¬ğŸ‡§ App / Game'),
  T(appData.isPaid?'Ãœcretli (Paid) seÃ§ â€” fiyat gir':'Ãœcretsiz (Free) seÃ§','âš ï¸ Ãœcretsizden Ã¼cretliye geÃ§iÅŸ yapÄ±lamaz!'),
  T('â˜‘ï¸ Ä°ÅŸaretle: Google Play GeliÅŸtirici Program PolitikalarÄ±\'na uygundur','ğŸ‡¬ğŸ‡§ Developer Program Policies'),
  T('â˜‘ï¸ Ä°ÅŸaretle: ABD ihracat yasalarÄ±nÄ± kabul ediyorum','ğŸ‡¬ğŸ‡§ US export laws'),
  T('â˜‘ï¸ Ä°ÅŸaretle: Play Uygulama Ä°mzalama Hizmet ÅartlarÄ±','ğŸ‡¬ğŸ‡§ Play App Signing Terms of Service'),
  T('ğŸ‡¹ğŸ‡· "Uygulama oluÅŸtur" / ğŸ‡¬ğŸ‡§ "Create app" tÄ±kla'),
]}

function buildStoreTasks(){return [
  T('ğŸ‡¹ğŸ‡· KullanÄ±cÄ± sayÄ±sÄ±nÄ± artÄ±r â†’ MaÄŸaza varlÄ±ÄŸÄ± â†’ Ana maÄŸaza giriÅŸi\nğŸ‡¬ğŸ‡§ Grow users â†’ Store presence â†’ Main store listing'),
  T('Uygulama adÄ±',null,appData.storeInfo?.title),
  T('KÄ±sa aÃ§Ä±klama (max 80 karakter)',null,appData.storeInfo?.shortDesc),
  T('Tam aÃ§Ä±klama (max 4000 karakter)',null,appData.storeInfo?.fullDesc?.substring(0,80)+'...'),
  T('Uygulama simgesi yÃ¼kle','512Ã—512 px, 32-bit PNG'),
  T('Ã–ne Ã§Ä±kan grafik yÃ¼kle','1024Ã—500 px, JPEG veya 24-bit PNG'),
  T('Ekran gÃ¶rÃ¼ntÃ¼leri yÃ¼kle (telefon)','Min 2, max 8 adet, 16:9 oran'),
  T('ğŸ‡¹ğŸ‡· MaÄŸaza varlÄ±ÄŸÄ± â†’ MaÄŸaza ayarlarÄ±\nğŸ‡¬ğŸ‡§ Store presence â†’ Store settings'),
  T('Kategori seÃ§',null,appData.storeInfo?.category),
  T('Ä°letiÅŸim e-postasÄ±',null,appData.storeInfo?.email),
  T(appData.storeInfo?.website?'GeliÅŸtirici web sitesi gir':'GeliÅŸtirici web sitesi gir (AdMob iÃ§in zorunlu!)',null,appData.storeInfo?.website),
  T('ğŸ‡¹ğŸ‡· "Kaydet" / ğŸ‡¬ğŸ‡§ "Save" tÄ±kla'),
]}

function buildPrivacyTasks(){return [
  T('ğŸ‡¹ğŸ‡· Politika ve programlar â†’ Uygulama iÃ§eriÄŸi â†’ Gizlilik PolitikasÄ± â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ Policy â†’ App content â†’ Privacy Policy â†’ Start'),
  T('Gizlilik politikasÄ± URL\'sini gir',null,appData.storeInfo?.privacyUrl),
  T('ğŸ‡¹ğŸ‡· "Kaydet" / ğŸ‡¬ğŸ‡§ "Save" tÄ±kla'),
]}

function buildAccessTasks(){
  const restricted=appData.hasLogin||appData.hasSubscription||appData.hasLifetime;
  const tasks=[
    T('ğŸ‡¹ğŸ‡· Politika ve programlar â†’ Uygulama iÃ§eriÄŸi â†’ Uygulama eriÅŸimi â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ Policy â†’ App content â†’ App access â†’ Start'),
  ];
  if(restricted){
    tasks.push(T('ğŸ‡¹ğŸ‡· "Ä°ÅŸlevlerin tamamÄ± veya bir kÄ±smÄ± kÄ±sÄ±tlÄ±dÄ±r" seÃ§\nğŸ‡¬ğŸ‡§ "All or some functionality is restricted"'));
    tasks.push(T('ğŸ‡¹ğŸ‡· "Yeni talimat ekle" â†’ test hesap bilgileri gir\nğŸ‡¬ğŸ‡§ "Add new instructions" â†’ enter test account','E-posta + Åifre â€” Google inceleme ekibi bu hesapla test edecek'));
  }else{
    tasks.push(T('ğŸ‡¹ğŸ‡· "TÃ¼m iÅŸlevler Ã¶zel eriÅŸim olmadan kullanÄ±labilir" seÃ§\nğŸ‡¬ğŸ‡§ "All functionality is available without special access"'));
  }
  tasks.push(T('ğŸ‡¹ğŸ‡· "Kaydet" / ğŸ‡¬ğŸ‡§ "Save"'));
  return tasks;
}

function buildAdsDeclarationTasks(){return [
  T('ğŸ‡¹ğŸ‡· Politika ve programlar â†’ Uygulama iÃ§eriÄŸi â†’ Reklamlar â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ Policy â†’ App content â†’ Ads â†’ Start'),
  T(appData.hasAds
    ?'ğŸ‡¹ğŸ‡· "Evet, uygulamam reklam iÃ§eriyor" seÃ§\nğŸ‡¬ğŸ‡§ "Yes, my app contains ads"\nâ†’ MaÄŸazada "Reklam iÃ§erir" etiketi gÃ¶rÃ¼necek'
    :'ğŸ‡¹ğŸ‡· "HayÄ±r, uygulamam reklam iÃ§ermiyor" seÃ§\nğŸ‡¬ğŸ‡§ "No, my app does not contain ads"'),
  T('ğŸ‡¹ğŸ‡· "Kaydet" / ğŸ‡¬ğŸ‡§ "Save"'),
]}

function buildRatingTasks(){
  const cr=appData.contentRating||{};
  const tasks=[
    T('ğŸ‡¹ğŸ‡· Politika ve programlar â†’ Uygulama iÃ§eriÄŸi â†’ Ä°Ã§erik derecelendirmesi â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ Policy â†’ App content â†’ Content rating â†’ Start'),
    T('E-posta adresini gir'),
    T('Kategori seÃ§: YardÄ±mcÄ± program / Utility (Ã§oÄŸu uygulama) veya Oyun / Game'),
  ];
  const questions=[
    ['Åiddet / Violence',cr.violence],
    ['Cinsellik / Sexuality',cr.sexual],
    ['Dil (kÃ¼fÃ¼r) / Language',cr.language],
    ['KontrollÃ¼ maddeler / Controlled substances',cr.substances],
    ['Kumar / Gambling',cr.gambling],
    ['EtkileÅŸimli Ã¶ÄŸeler / Interactive elements',cr.userInteraction],
    ['Ã‡evrimiÃ§i iÃ§erik / Online content',cr.onlineContent],
    ['Konum paylaÅŸma / Location sharing',cr.locationSharing],
    ['Uygulama iÃ§i satÄ±n alma / In-app purchases',cr.iap],
    ['Reklam kimliÄŸi / Advertising ID',cr.adId],
  ];
  questions.forEach(([q,v])=>{
    tasks.push(T(q+' â†’ '+(v?'âœ… EVET / YES':'âŒ HAYIR / NO')));
  });
  tasks.push(T('ğŸ‡¹ğŸ‡· "Kaydet" â†’ "Derecelendirmeyi uygula"\nğŸ‡¬ğŸ‡§ "Save" â†’ "Apply rating"'));
  return tasks;
}

function buildAudienceTasks(){return [
  T('ğŸ‡¹ğŸ‡· Politika ve programlar â†’ Uygulama iÃ§eriÄŸi â†’ Hedef kitle ve iÃ§erik â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ Policy â†’ App content â†’ Target audience and content â†’ Start'),
  T('Hedef yaÅŸ grubu seÃ§ â†’ '+(appData.targetAge||'18 ve Ã¼zeri / 18 and over')),
  T('ğŸ‡¹ğŸ‡· "Ã–ncelikli olarak Ã§ocuklara yÃ¶nelik mi?" â†’ HayÄ±r\nğŸ‡¬ğŸ‡§ "Primarily designed for children?" â†’ No','âš ï¸ 13 altÄ± seÃ§ersen Aile PolitikasÄ± devreye girer!'),
  T('ğŸ‡¹ğŸ‡· "Kaydet" / ğŸ‡¬ğŸ‡§ "Save"'),
]}

function buildDataSafetyTasks(){
  const ds=appData.dataSafety||{};
  const tasks=[
    T('ğŸ‡¹ğŸ‡· Politika ve programlar â†’ Uygulama iÃ§eriÄŸi â†’ Veri gÃ¼venliÄŸi â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ Policy â†’ App content â†’ Data safety â†’ Start'),
    T('Sayfa 1: ğŸ‡¹ğŸ‡· "Ä°leri" / ğŸ‡¬ğŸ‡§ "Next" tÄ±kla'),
  ];
  // Page 2
  tasks.push(T('Sayfa 2 â€” Veri topluyor mu?\nğŸ‡¹ğŸ‡· "UygulamanÄ±z gerekli kullanÄ±cÄ± veri tÃ¼rlerinden herhangi birini topluyor veya paylaÅŸÄ±yor mu?"\nâ†’ '+(ds.collectsData?'âœ… EVET / YES':'âŒ HAYIR / NO')));
  if(ds.collectsData){
    tasks.push(T('AktarÄ±mda ÅŸifreleniyor mu?\nğŸ‡¹ğŸ‡· "TÃ¼m kullanÄ±cÄ± verileri aktarÄ±m sÄ±rasÄ±nda ÅŸifreleniyor mu?"\nâ†’ '+(ds.encryptedInTransit?'âœ… EVET / YES':'âŒ HAYIR / NO')));
    tasks.push(T('Veri silme yolu var mÄ±?\nğŸ‡¹ğŸ‡· "KullanÄ±cÄ±lara verilerinin silinmesini isteme yolu sunuyor musunuz?"\nâ†’ '+(ds.deletionMechanism?'âœ… EVET / YES':'âŒ HAYIR / NO')));
    // Page 3 - data types
    const typeLabels={
      device_ids:'â˜‘ï¸ Cihaz veya diÄŸer kimlikler / Device or other IDs',
      app_interactions:'â˜‘ï¸ Uygulama etkinliÄŸi â†’ Uygulama etkileÅŸimleri / App activity â†’ App interactions',
      crash_logs:'â˜‘ï¸ Uygulama bilgileri â†’ Kilitlenme gÃ¼nlÃ¼kleri / App info â†’ Crash logs',
      diagnostics:'â˜‘ï¸ Uygulama bilgileri â†’ TanÄ±lama / App info â†’ Diagnostics',
      name:'â˜‘ï¸ KiÅŸisel bilgiler â†’ Ad / Personal info â†’ Name',
      email:'â˜‘ï¸ KiÅŸisel bilgiler â†’ E-posta adresi / Personal info â†’ Email address',
      user_ids:'â˜‘ï¸ Hesap bilgileri â†’ KullanÄ±cÄ± kimlikleri / Account info â†’ Account identifiers',
      purchase_history:'â˜‘ï¸ Finansal bilgiler â†’ SatÄ±n alma geÃ§miÅŸi / Financial info â†’ Purchase history',
      approximate_location:'â˜‘ï¸ Konum â†’ YaklaÅŸÄ±k konum / Location â†’ Approximate location',
      precise_location:'â˜‘ï¸ Konum â†’ Hassas konum / Location â†’ Precise location',
      photos_videos:'â˜‘ï¸ FotoÄŸraflar ve videolar / Photos and videos',
      files_docs:'â˜‘ï¸ Dosyalar ve dokÃ¼manlar / Files and docs',
      contacts:'â˜‘ï¸ KiÅŸiler / Contacts',
      phone_number:'â˜‘ï¸ Telefon numarasÄ± / Phone number',
    };
    tasks.push(T('Sayfa 3 â€” Veri tÃ¼rlerini iÅŸaretle:'));
    (ds.dataTypes||[]).forEach(dt=>{
      if(typeLabels[dt]) tasks.push(T(typeLabels[dt]));
    });
    // Page 4 - purposes
    tasks.push(T('Sayfa 4 â€” Her veri tÃ¼rÃ¼ iÃ§in amaÃ§ seÃ§:'));
    if(appData.hasAds) tasks.push(T('Cihaz kimlikleri â†’ Toplanan: Evet, PaylaÅŸÄ±lan: Evet\nAmaÃ§: â˜‘ï¸ ReklamcÄ±lÄ±k veya pazarlama / Advertising or marketing'));
    if(appData.hasFirebase) tasks.push(T('Kilitlenme gÃ¼nlÃ¼kleri + TanÄ±lama â†’ Toplanan: Evet, PaylaÅŸÄ±lan: HayÄ±r\nAmaÃ§: â˜‘ï¸ Analiz / Analytics'));
    if(appData.hasAds||appData.hasFirebase) tasks.push(T('Uygulama etkileÅŸimleri â†’ Toplanan: Evet, PaylaÅŸÄ±lan: '+(appData.hasAds?'Evet':'HayÄ±r')+'\nAmaÃ§: â˜‘ï¸ Analiz / Analytics'+(appData.hasAds?', â˜‘ï¸ ReklamcÄ±lÄ±k / Advertising':'')));
    if(appData.hasLogin) tasks.push(T('Ad / E-posta / KullanÄ±cÄ± kimlikleri â†’ Toplanan: Evet, PaylaÅŸÄ±lan: HayÄ±r\nAmaÃ§: â˜‘ï¸ Uygulama iÅŸlevi / App functionality, â˜‘ï¸ Hesap yÃ¶netimi / Account management'));
    if(appData.hasSubscription||appData.hasLifetime) tasks.push(T('SatÄ±n alma geÃ§miÅŸi â†’ Toplanan: Evet, PaylaÅŸÄ±lan: HayÄ±r\nAmaÃ§: â˜‘ï¸ Uygulama iÅŸlevi / App functionality'));
  }
  tasks.push(T('Sayfa 5 â€” Ã–nizleme kontrol et â†’ ğŸ‡¹ğŸ‡· "GÃ¶nder" / ğŸ‡¬ğŸ‡§ "Submit"'));
  return tasks;
}

function buildOtherDeclTasks(){
  const isPersonal=appData.accountType!=='organization';
  return [
    T('ğŸ‡¹ğŸ‡· Uygulama iÃ§eriÄŸi â†’ Haber uygulamasÄ± â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ App content â†’ News app â†’ Start\nâ†’ âŒ HayÄ±r / No'),
    T('ğŸ‡¹ğŸ‡· Uygulama iÃ§eriÄŸi â†’ Devlet uygulamalarÄ± â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ App content â†’ Government apps â†’ Start\nâ†’ '+(isPersonal?'âŒ HayÄ±r / No (kiÅŸisel hesap = kesinlikle HayÄ±r)':'Durumuna gÃ¶re seÃ§')),
    T('ğŸ‡¹ğŸ‡· Uygulama iÃ§eriÄŸi â†’ Finansal Ã¶zellikler â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ App content â†’ Financial features â†’ Start\nâ†’ '+(isPersonal?'"Uygulamam finansal Ã¶zellik saÄŸlamÄ±yor / My app doesn\'t provide any financial features" â†’ Ä°leri â†’ Kaydet':'Durumuna gÃ¶re seÃ§')),
    T('ğŸ‡¹ğŸ‡· Uygulama iÃ§eriÄŸi â†’ SaÄŸlÄ±k uygulamalarÄ± â†’ BaÅŸlat\nğŸ‡¬ğŸ‡§ App content â†’ Health apps â†’ Start\nâ†’ '+(isPersonal?'"Uygulamam saÄŸlÄ±k Ã¶zelliÄŸi iÃ§ermiyor / My app does not have any health features" â†’ Kaydet':'Durumuna gÃ¶re seÃ§')),
  ];
}

function buildAabTasks(){
  const tasks=[
    T('Target API Level: 35+ (Android 15) doÄŸrula'),
    T('versionCode ve versionName kontrol et'),
    T('Release build al (debug deÄŸil!)'),
  ];
  if(appData.hasAds){
    tasks.push(T('âš ï¸ Test AdMob ID\'lerini GERÃ‡EK ID\'lerle deÄŸiÅŸtir!','Bu adÄ±mÄ± atlarsan reklam geliri alamazsÄ±n'));
    tasks.push(T('AdMob App ID manifest\'te doÄŸru mu kontrol et',null,appData.admob?.appId));
  }
  if(appData.hasSubscription||appData.hasLifetime){
    tasks.push(T('Billing izni manifest\'te var mÄ± kontrol et','<uses-permission android:name="com.android.vending.BILLING" />'));
  }
  tasks.push(T('AAB oluÅŸtur: Build â†’ Generate Signed Bundle â†’ Android App Bundle','Dosya: app/release/app-release.aab'));
  tasks.push(T('AAB boyutu max 200 MB (Ã¼stÃ¼ iÃ§in Play Asset Delivery)'));
  return tasks;
}

function buildInternalTasks(){return [
  T('ğŸ‡¹ğŸ‡· SÃ¼rÃ¼m â†’ Test etme â†’ Dahili test â†’ Yeni sÃ¼rÃ¼m oluÅŸtur\nğŸ‡¬ğŸ‡§ Release â†’ Testing â†’ Internal testing â†’ Create new release'),
  T('Play App Signing kurulumunu kabul et'),
  T('AAB dosyasÄ±nÄ± sÃ¼rÃ¼kle-bÄ±rak yÃ¼kle'),
  T('SÃ¼rÃ¼m adÄ± ve notlarÄ± gir'),
  T('ğŸ‡¹ğŸ‡· "Kaydet" â†’ "SÃ¼rÃ¼mÃ¼ incele" â†’ "Dahili teste yayÄ±nlamaya baÅŸla"\nğŸ‡¬ğŸ‡§ "Save" â†’ "Review release" â†’ "Start rollout to Internal testing"'),
  T('Test kullanÄ±cÄ±larÄ± â†’ E-posta listesi oluÅŸtur â†’ Gmail ekle\nğŸ‡¬ğŸ‡§ Testers â†’ Create email list'),
  T('KatÄ±lÄ±m baÄŸlantÄ±sÄ±nÄ± kopyala\nğŸ‡¬ğŸ‡§ Copy opt-in link'),
]}

function buildMonetizeTasks(){
  const tasks=[
    T('ğŸ‡¹ğŸ‡· Play ile para kazanma â†’ Para kazanma kurulumu\nğŸ‡¬ğŸ‡§ Monetize with Play â†’ Monetization setup'),
    T('ğŸ‡¹ğŸ‡· "SatÄ±cÄ± hesabÄ± oluÅŸtur" â†’ banka bilgileri gir â†’ doÄŸrula\nğŸ‡¬ğŸ‡§ "Set up a merchant account"'),
  ];
  if(appData.hasSubscription){
    tasks.push(T('ğŸ‡¹ğŸ‡· Play ile para kazanma â†’ ÃœrÃ¼nler â†’ Abonelikler â†’ Abonelik oluÅŸtur\nğŸ‡¬ğŸ‡§ Monetize with Play â†’ Products â†’ Subscriptions â†’ Create subscription'));
    (appData.products||[]).filter(p=>p.type==='subscription').forEach(p=>{
      tasks.push(T('Abonelik: '+p.name,'Product ID: '+p.id+' | Fiyat: '+p.price+' | DÃ¶nem: '+p.period,p.id));
      tasks.push(T('Temel plan ekle â†’ Otomatik yenilenen â†’ FaturalandÄ±rma: '+p.period+' â†’ Fiyat: '+p.price+' â†’ EtkinleÅŸtir','ğŸ‡¹ğŸ‡· Temel plan ekle â†’ FiyatlarÄ± ayarla â†’ GÃ¼ncelle â†’ Uygula â†’ EtkinleÅŸtir\nğŸ‡¬ğŸ‡§ Add base plan â†’ Set prices â†’ Update â†’ Apply â†’ Activate'));
    });
  }
  if(appData.hasLifetime){
    tasks.push(T('ğŸ‡¹ğŸ‡· Play ile para kazanma â†’ ÃœrÃ¼nler â†’ Uygulama iÃ§i Ã¼rÃ¼nler â†’ ÃœrÃ¼n oluÅŸtur\nğŸ‡¬ğŸ‡§ Monetize with Play â†’ Products â†’ In-app products â†’ Create product'));
    (appData.products||[]).filter(p=>p.type==='one-time').forEach(p=>{
      tasks.push(T('ÃœrÃ¼n: '+p.name,'Product ID: '+p.id+' | Fiyat: '+p.price,p.id));
      tasks.push(T('âš ï¸ Lifetime = non-consumable! acknowledgePurchase() Ã§aÄŸÄ±r, consumePurchase() Ã§aÄŸÄ±rMA! 3 gÃ¼n acknowledge etmezsen otomatik iade!'));
    });
  }
  return tasks;
}

function buildClosedTasks(){return [
  T('ğŸ‡¹ğŸ‡· SÃ¼rÃ¼m â†’ Test etme â†’ KapalÄ± test â†’ ParÃ§a oluÅŸtur\nğŸ‡¬ğŸ‡§ Release â†’ Testing â†’ Closed testing â†’ Create track'),
  T('Ãœlkeleri seÃ§ â†’ Yeni sÃ¼rÃ¼m oluÅŸtur â†’ AAB yÃ¼kle'),
  T('ğŸ‡¹ğŸ‡· "KapalÄ± teste yayÄ±nlamaya baÅŸla"\nğŸ‡¬ğŸ‡§ "Start rollout to Closed testing"'),
  T('Test kullanÄ±cÄ±larÄ± â†’ E-posta listesi oluÅŸtur â†’ Min 12 Gmail (15-20 Ã¶nerilir)\nğŸ‡¬ğŸ‡§ Testers â†’ Create email list'),
  T('KatÄ±lÄ±m baÄŸlantÄ±sÄ±nÄ± kopyala â†’ testerlara gÃ¶nder'),
  T('â³ 14 GÃœN BEKLE â€” Testerlar "Programdan ayrÄ±l/Leave" tÄ±klamasÄ±n!'),
]}

function buildProdAccessTasks(){return [
  T('14 gÃ¼n doldu + 12+ tester opt-in â†’ Dashboard\'a git'),
  T('ğŸ‡¹ğŸ‡· "Ãœretime eriÅŸim iÃ§in baÅŸvur"\nğŸ‡¬ğŸ‡§ "Apply for production access"'),
  T('SorularÄ± yanÄ±tla â†’ GÃ¶nder'),
  T('Onay: birkaÃ§ saat â€“ birkaÃ§ gÃ¼n'),
]}

function buildProductionTasks(){return [
  T('ğŸ‡¹ğŸ‡· SÃ¼rÃ¼m â†’ Ãœretim â†’ Yeni sÃ¼rÃ¼m oluÅŸtur\nğŸ‡¬ğŸ‡§ Release â†’ Production â†’ Create new release'),
  T('AAB yÃ¼kle'),
  T('SÃ¼rÃ¼m adÄ± + notlarÄ± gir'),
  T('ğŸ‡¹ğŸ‡· "Kaydet" â†’ "SÃ¼rÃ¼mÃ¼ incele" â†’ hatalarÄ± kontrol et\nğŸ‡¬ğŸ‡§ "Save" â†’ "Review release"'),
  T('ğŸ‡¹ğŸ‡· "Ãœretime yayÄ±nlamaya baÅŸla" (Ã¶nerilir: %20-50 staged rollout)\nğŸ‡¬ğŸ‡§ "Start rollout to Production"'),
  T('Google incelemesi: Yeni uygulama 1-3 gÃ¼n, gÃ¼ncelleme birkaÃ§ saat'),
]}

function buildAppAdsTasks(){
  const site=appData.storeInfo?.website||'https://SITEN.com';
  return [
  T('AdMob â†’ uygulamanÄ± seÃ§ â†’ "Link to app store" â†’ Play Store\'dan bul ve baÄŸla'),
  T('AdMob â†’ Apps â†’ app-ads.txt sekmesi â†’ snippet kopyala','google.com, pub-XXXX, DIRECT, f08c47fec0942fa0'),
  T('app-ads.txt dosyasÄ± oluÅŸtur â†’ snippet yapÄ±ÅŸtÄ±r'),
  T('Web sitene yÃ¼kle',null,site+'/app-ads.txt'),
  T('Play Console â†’ MaÄŸaza ayarlarÄ± â†’ GeliÅŸtirici web sitesi URL\'si gir\nğŸ‡¬ğŸ‡§ Store settings â†’ Developer website URL',null,site),
  T('24 saat bekle â†’ AdMob\'da "Verified" kontrol et'),
  T('robots.txt engel olmasÄ±n:\nUser-agent: Google-adstxt\nAllow: /app-ads.txt'),
]}

function buildPostLaunchTasks(){return [
  T('ğŸ‡¹ğŸ‡· Kontrol paneli â†’ indirme, aktif yÃ¼kleme kontrol\nğŸ‡¬ğŸ‡§ Dashboard'),
  T('ğŸ‡¹ğŸ‡· Kalite â†’ Derecelendirmeler ve yorumlar â†’ YANITLA!\nğŸ‡¬ğŸ‡§ Quality â†’ Ratings and reviews'),
  T('ğŸ‡¹ğŸ‡· Kalite â†’ Android vitals â†’ crash/ANR kontrol\nğŸ‡¬ğŸ‡§ Quality â†’ Android vitals'),
  T('Hedef: Crash-free %99+, ANR %0.47 altÄ±, Puan 4.0+'),
  T(appData.hasAds?'AdMob â†’ Revenue, eCPM, fill rate kontrol et':''),
  T(appData.hasSubscription?'Play ile para kazanma â†’ Finansal raporlar â†’ abonelik metrikleri\nğŸ‡¬ğŸ‡§ Monetize â†’ Financial reports':''),
].filter(t=>t.label)}

// ============================================================
// RENDER
// ============================================================
function renderSidebar(){
  const sb=document.getElementById('sidebar');
  const doneCount=steps.filter((_,i)=>isStepDone(i)).length;
  const pct=Math.round(doneCount/steps.length*100);
  let html=`<div class="sidebar-header">
    <div class="sidebar-appname">${appData.appName}</div>
    <div class="sidebar-scenario">Senaryo ${appData.scenario} Â· ${appData.accountType==='organization'?'Kurumsal':'KiÅŸisel'}</div>
    <div class="sidebar-progress"><div class="sidebar-progress-fill" style="width:${pct}%"></div></div>
  </div><ul class="sidebar-steps">`;
  steps.forEach((s,i)=>{
    const cls=i===currentStepIndex?'active':isStepDone(i)?'done':'';
    const icon=isStepDone(i)?'âœ“':(i+1);
    html+=`<li class="sidebar-step ${cls}" onclick="goToStep(${i})"><span class="step-icon">${icon}</span>${s.icon} ${s.title}</li>`;
  });
  html+='</ul>';
  sb.innerHTML=html;
}

function isStepDone(i){
  const key=steps[i].id;
  const tasks=steps[i].tasks;
  if(!completedTasks[key]) return false;
  return tasks.every((_,ti)=>completedTasks[key][ti]);
}

function renderStep(i){
  currentStepIndex=i;
  const step=steps[i];
  const mc=document.getElementById('wizardContent');
  let html=`<div class="step-badge">ADIM ${i+1} / ${steps.length}</div>
  <h1 class="step-title">${step.icon} ${step.title}</h1>`;

  html+=`<div class="task-list">`;
  step.tasks.forEach((t,ti)=>{
    const done=completedTasks[step.id]?.[ti]||false;
    html+=`<div class="task ${done?'done':''}" onclick="toggleTask('${step.id}',${ti},this)">
      <div class="task-check">${done?'âœ“':''}</div>
      <div class="task-content">
        <div class="task-label">${t.label.replace(/\n/g,'<br>')}</div>
        ${t.detail?`<div class="task-detail">${t.detail.replace(/\n/g,'<br>')}</div>`:''}
        ${t.value?`<div class="task-value" onclick="event.stopPropagation();copyText('${t.value.replace(/'/g,"\\'")}')">${t.value}</div>`:''}
      </div>
    </div>`;
  });
  html+=`</div>`;

  // Nav
  html+=`<div class="step-nav">`;
  if(i>0) html+=`<button class="btn btn-secondary" onclick="prevStep()">â† Ã–nceki</button>`;
  if(i<steps.length-1) html+=`<button class="btn btn-green" onclick="nextStep()">YaptÄ±m â†’ Sonraki AdÄ±m</button>`;
  else html+=`<button class="btn btn-primary" onclick="toast('ğŸ‰ Tebrikler! TÃ¼m adÄ±mlar tamamlandÄ±!')">ğŸ‰ TamamlandÄ±!</button>`;
  html+=`</div>`;

  mc.innerHTML=html;
  document.getElementById('mobileProgress').textContent=`${i+1}/${steps.length}`;
  renderSidebar();
  window.scrollTo(0,0);
}

function toggleTask(stepId,taskIndex,el){
  if(!completedTasks[stepId]) completedTasks[stepId]={};
  completedTasks[stepId][taskIndex]=!completedTasks[stepId][taskIndex];
  el.classList.toggle('done');
  el.querySelector('.task-check').textContent=completedTasks[stepId][taskIndex]?'âœ“':'';
  saveProgress();
  renderSidebar();
}

function nextStep(){
  if(currentStepIndex<steps.length-1){renderStep(currentStepIndex+1)}
}
function prevStep(){
  if(currentStepIndex>0){renderStep(currentStepIndex-1)}
}
function goToStep(i){renderStep(i)}

// ============================================================
// PERSISTENCE
// ============================================================
function saveProgress(){
  try{
    const data={completedTasks,currentStepIndex,appName:appData?.appName};
    localStorage.setItem('gplay_wizard_progress',JSON.stringify(data));
  }catch(e){}
}
function loadProgress(){
  try{
    const raw=localStorage.getItem('gplay_wizard_progress');
    if(raw){
      const data=JSON.parse(raw);
      if(data.appName===appData.appName){
        completedTasks=data.completedTasks||{};
        currentStepIndex=data.currentStepIndex||0;
      }
    }
  }catch(e){}
}
</script>
</body>
</html>
